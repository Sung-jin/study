### Internet Protocol

* IP 의 역할
    * 지정한 IP Address 에 데이터를 전달
    * Packet 이라는 통신 단위로 데이터 전달

#### IP Packet 정보

* 출발지 IP, 목적지 IP, 기타..

#### TCP 패킷 정보

* 출발지 port, 목적지 port, 전송 제어, 순서, 검증 정보...

#### 클라이언트 패킷 전달

* IP Packet 정보를 바탕으로 인터넷 망에 전달하면 인터넷에서 해당 정보를 바탕으로 전달한다
* 응답도 같은 형태로 패킷 정보를 바탕으로 노드들이 전달한다
* 요청과 응답의 각각의 노드들은 다를 수 있다

#### IP 프로토콜의 한계

* 비연결성: 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷을 전송한다
* 비신뢰성: 중간에 패킷이 사라지거나 나뉘어진 패킷이 순서대로 온다는 보장이 없다
* 프로그램 구분: 같은 IP 를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상일 경우 IP 만으로는 구분할 수 없다

### 인터넷 프로토콜 스택의 4계층

1. 애플리케이션 계층 (HTTP, FTP...)
1. 전송 계층 (TCP, UDP)
1. 인터넷 계층 (IP)
1. 네트워크 인터넷 계층

### TCP 특징

* 전송 제어 프로토콜(Transmission Control Protocol)
* 연결지향 - TCP 3 way handshake (**가상 연결**)
    1. SYN 요청 (접속 요청)
    1. SYN + ACK 응답 (요청 수락)
    1. ACK 응답 (연결 확인)
        * 연결 확인 ACK 와 함께 데이터를 전송도 가능하다
    1. 데이터 전송
* 데이터 전달 보증
    * 데이터를 받는 서버가 클라이언트한테 정상적으로 데이터를 전달 받았음을 응답한다
* 순서 보장
    * 서버가 도착한 패킷을 보고, 순서가 맞지 않은 부분부터 그 이후를 다시 전송해달라고 요청한다
    * 최적화도 내부적으로 구현이 가능하지만 기본적으로는 잘못 된 이후부터 다시 보내는 것을 요청한다
* 신뢰할 수 있는 프로토콜

#### UDP

* 사용자 데이터그램 프로토콜(User Datagram Protocol)
* 기능이 거의 없다
    * 연결지향 - TCP 3 way handshake X
    * 데이터 전달 보증 X
    * 순서 보장 X
* 데이터 전달 및 순서가 보장되지 않으나, 단순하고 빠르다
* IP 와 거의 비슷하며, Port 와 체크섬 정도만 한다

##### 여담

* 최근에는 TCP 보다 UDP 가 더 주목받기 시작했다
    * TCP 의 3 way handshake 에 대한 비용이 있고, UDP 를 최적화해서 필요한 기능만 작업을 할 수 있기에 사용성이 높아지고 있다

### Port

* 같은 IP 내에서 프로세스를 구분하는데 사용
* 0 ~ 65535 범위의 포트를 할당 및 사용이 가능하다
    * 0 ~ 1023 은 잘 알려진 포트
    * FTP: 20,21
    * TELNET: 23
    * HTTP/S: 80/443

### Domain Name System

* IP 는 변경이 될 수도 있으며, IP 를 기억하기 어렵다
* 전화번호부와 같이 도메인 명을 IP 주소로 변환해주는 시스템을 DNS 라고 한다
* DNS 서버에 도메인을 등록하고 DNS 서버에서 해당 도메인을 요청하면 IP 를 찾아서 리턴한다
