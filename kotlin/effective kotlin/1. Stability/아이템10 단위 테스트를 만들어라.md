## 단위 테스트를 만들어라

* 테스트를 작성할 때 개발자의 관점에서 어플리케이션이 내부적으로 올바르게 동작하는가가 아닌 사용자 관점에서 어플리케이션이 외부적으로 제대로 작동하는지 확인해야 한다
* 이러한 테스트는 개발자에게 유용하나 충분하지는 않다
    * 테스트 만으로는 해당 요소가 올바르게 작동한다는 것을 완전하게 보증할 수 없다
* 이러한 문제를 해결하기 위해 단위 테스트가 필요하며, 단위 테스트는 개발자가 작성하고 개발자에게 유용하다

### 단위 테스트

* 단위 테스트는 일반적으로 다음과 같은 내용을 확인한다
    - 일반적인 유스 케이스 (happy case): 요소가 사용될거라고 예상되는 일반적인 방법을 테스트한다
    - 일반적인 오류 케이스와 잠재적인 문제: 제대로 동작하지 않을 것이라고 예상되는 일반적인 부분, 과거에 발생했던 문제 등을 테스트
    - edge case 와 잘못된 아규먼트: 마이너스가 허용되지 않는 대상에 minus 값, Int 인 경우 Int.MAX_VALUE/MIN_VALUE 등
* 단위 테스트는 개발자가 만들고 있는 요소가 제대로 동작하는지를 빠르게 피드백 해주므로 개발하는 동안 큰 도움이 된다
* 테스트는 계쏙 축적되므로 회귀 테스트도 쉽다
* 수동으로 테스트하기 어려운 부분도 확인할 수 있다
* Test Driven Development 라는 접근 방식도 존재한다

#### 단위 테스트의 장점

1. 테스트가 잘 된 요소는 신뢰할 수 있으며, 요소를 신뢰하므로 요소를 활용한 작업에 자신감이 생긴다
2. 테스트가 잘 만들어져 있다면 리펙토링이 두렵지 않고, 리펙토링시 테스트를 통해 버그 발생을 쉽게 확인할 수 있다
3. 수동으로 테스트하는 것보다 단위 테스트로 확인하는 것이 빠르며, 이 빠른점을 활용하여 개발하고 테스트하는 흐름을 빠르게 진행할 수 있다

#### 단위 테스트의 단점

1. 단위 테스트를 만드는데 시간이 걸린다
    * 하지만 장기적으로 좋은 단위 테스트는 디버깅 시간과 버그를 찾는데 소모되는 시간을 줄인다
    * 또한 반복되는 테스트 또는 수동 테스트에 의해 발생하는 시간을 줄여주는 역할을 해준다
2. 테스트를 활용할 수 있게 코드를 조정해야 한다
    * 변경하기 어렵지만 변경을 통해서 잘 정립된 아키텍처를 사용하는 것이 강제된다
3. 좋은 단위 테스트를 만드는 작업은 꽤 어렵고 잘못 만들어진 단위 테스트는 득보다 실이 크다

## 결론

* 효과적인 단위 테스트를 하는 방법을 습득하고 단위 테스트를 위한 코드를 작성하는 것은 생각보다 어렵다
* 좋은 개발자가 되기 위해서는 단위 테스트와 관련된 기술을 습득하고 중요한 코드라고 할 수 있는 다음과 같은 부분에 대해 단위 테스트하는 방법을 알고 있어야 한다
    - 복잡한 부분
    - 수정이 자주 일어나고 리펙토링이 일어날 수 있는 부분
    - 비즈니스 로직 부분
    - 공용 API 부분
    - 문제가 자주 발생하는 부분
     - 수정해야 하는 프로덕션 버그
* 어플리케이션이 올바르게 동작하는 것을 확인하는게 중요하며, 이는 테스트를 통해 확인할 수 있다
* 테스트는 개발 과정과 개발 후 모든 상황에서 의미를 가지며, 개발 과정에서 가장 효율적으로 활용할 수 있는 테스트는 단위 테스트이다
