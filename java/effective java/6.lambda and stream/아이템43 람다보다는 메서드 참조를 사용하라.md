## 람다보다는 메서드 참조를 사용하라

* 함수 객체보다 더 간결한 메서드 참조가 존재한다
    * `map.merge(key, 1, (count, incr) -> count + incr);`
* 위와 같은 형태에서 정적 메서드를 활용할 수 있다면 더 간결한 코드를 구현이 가능하다
    * `map.meerge(key, 1, Integer::sum);`
    * 매개변수 수가 늘어날수록 메서드 참조로 제거할 코드양도 늘어나지만, 매개변수의 이름 자체가 프로그래머에게 좋은 가이드가 될 수 있다
* 일부 예외를 제외하고 람다로 할 수 없는 일이라면 메서드 참조로 활용할 수 없다
    * 메서드 참조를 사용하는 편이 보통은 더 짧고 간결하며, 람다가 너무 길고 메서드 참조를 사용할 수 있다면 좋은 대안이 될 수 있다
    * 이는 람다로 작성할 코드를 새로운 메서드에 담은 다음 람다 대신 해당 메서드 참조를 사용할 수 있다는 의미이다
* 대부분 IDE 가 람다를 메서드 참조로 대체할 것을 권하지만, 주로 메서드와 람다가 같은 클래스에 있을 경우에는 큰 이득은 없다

```java
service.execute(GoshThisClassNameIsHumongous::action);

// vs

service.execute(() -> action());
// 같은 클래스에 있는 람다는 위와 같이 사용이 가능하다
// 이는 메서드 참조보다 람다가 더 짧고 명확하다
```

### 인스턴스 메서드를 참조하는 유형

* 수신 객체를 특정하는 한정적 인스턴스 메서드 참조
    * 정적 참조와 비슷하며 함수 객체가 받는 인수와 참조되는 메서드가 받는 인수가 똑같다
* 수신 객체를 특정하지 않는 비한정적 인스턴스 메서드 참조
    * 함수 객체를 적용하는 시점에 수신 객체를 알려준다
    * 이를 위해 수신 객체 전달용 매개변수가 매개변수 목록의 첫 번째로 추가되며, 그 뒤로 참졷괴는 메서드 선언에 정의된 매개변수들이 따른다
    * 비한정적 참조는 주로 스트림 파이프라인에서의 매핑과 필터 함수에 사용된다
* 클래스 생성자를 가르키는 메서드 참조와 배열 생성자를 가르지는 참조
    * 생성자 참조는 팩토리 객체로 사용된다
    
| 메서드 참조 유형 | 예 | 같은 기능을 하는 람다 |
| ---- | ---- | ---- |
| 정적 | Integer::parseInt | str -> Integer.parseInt(str) |
| 한정적(인스턴스) | Instant.now()::isAfter | Instant then = Instant.now();<br/>t -> then.isAfter(t); |
| 비한정적(인스턴스) | String::toLowerCase | str -> str.toLowerCase() |
| 클래스 생성자 | TreeMap<K,V>::new | () -> new TreeMap<K,V>() |
| 배열 생성자 | int[]::new | len -> new int[len] |

## 정리

* 메서드 참조는 람다의 간단명로한 대안이 될 수 있다
* 메서드 참조 쪽이 짧고 명확하다면 메서드 참조를 사요하고 그렇지 않을 경우 람다를 사용해야 한다
