## 지역변수의 범위를 최소화하라

* 지역변수의 유효 범위를 최소로 줄이면 코드 가독성과 유지보수성이 높아지고 오류 가능성은 낮아진다
* 지역변수의 범위를 줄이는 가장 강력한 기법은 '가장 처음 쓰일 때 선언하기' 이다
    * 지역변수를 쓰이는 범위보다 앞에서 선언하면, 다 사용하고 난 뒤에도 변수가 살아있게되고, 그로인해 문제가 발생할 수 있다
* 거의 모든 지역변수는 선언과 동시에 초기화해야 한다
    * 초기화에 필요한 정보가 충분하지 않다면 충분해질 때까지 선언을 미루어야 한다
* try-catch 블록에서는 다음과 같이 선언 및 초기화를 해야 한다
    * 변수를 초기화하는 표현식에서 검사 예외를 던질 가능성이 있다면, try 블록 안에서 초기화해야 한다
    * 변수 값을 try 블록 밖에서도 사용한다면 try 블록 앞에서 선언해야 한다
* 반복문의 경우 해당 블록에 선언된 변수는 해당 반복문 블록 안에서만 동작한다
    * 즉, 반복 변수의 값을 반복문이 종료된 뒤에도 써야하는 상황이 아니라면 while 보다는 for 를 사용하는 편이 좋다
    
### while VS for

```java
Iterator<Element> i = c.iterator();
while (i.hasNext()) { // do something by i }

Iterator<Element> i2 = c2.iterator();
while (i.hasNext()) { // do something by i2 }
```

* 위와 같은 상황에서 i2 를 사용하려고 하였으나, 비슷한 while 문을 복사넣기 하면서 기존 변수인 i 로 요소 존재여부를 체크하고 있다
    * 이로인해 i2 에 접근하여 활용하는 로직은 절대 활용될 수 없게되고, 이는 컴파일과 런타임시에 발견할 수 없으므로 오류 발견까지 오래걸릴 수 있다
    
```java
for (Iterator<Element> i = c.iterator(); i.hasNexT(); ) { ... }
for (Iterator<Element> i2 = c2.iterator(); i.hasNexT(); ) { ... }
// i 변수는 처음 for 블록 내부까지만 유효하므로, 컴파일에러가 발생하고 바로 수정이 가능하다
```

```java
for (int i = 0, n = expensiveComputation(); i < n; i++) { ... }
```

* 위와 같이 룹의 한계를 정하는 범위를 결정하는 계산이 무겁다면, 위와 같은 반복문 관용구로 while 과 다르게 한번만 계산하여 활용할 수 있다는 장점이 있다

### 마지막으로

* 메서드를 작게 유지하고 한 가지 기능에 집중하여 지역변수 범위를 최소하할 수 있다
    * 한 메서드에서 여러 가지 기능을 처리한다면 그중 한 기능과만 관련된 지역분수라도 다른 기능을 수행하는 코드에 접근할 수 있을 것이다
    * 이는 단순히 메서드를 기능별로 쪼개기만 함으로써 해결할 수 있다
