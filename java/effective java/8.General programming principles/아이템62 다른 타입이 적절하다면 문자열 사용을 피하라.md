## 다른 타입이 적절하다면 문자열 사용을 피하라

* 문자열은 텍스트를 표현하도록 설계되었으며, 다른 값 타입을 대신하기에 적합하지 않다
    * 파일, 네트워크, 키보드 입력 등 데이터를 받을 때 주로 문자열을 사용하지만, 데이터가 진짜 문자열일 경우에만 그렇게 하는 것이 좋다
    * 데이터가 수치형이라면 int, float, BigInteger 등을 yes/no 라면 boolean 또는 enum 으로 변환해야 한다
    * 즉, 기본 타입이든 참조 타입이든 적절한 값 타입이 있다면 그것을 사용하고, 없다면 새로 만들어서 사용하는게 좋다

### 문자열은 혼합 타입을 대신하기에 적합하지 않다

```java
String compoundKey = className + "#" + i.next();
```

* 위와 같이 혼합 타입을 문자열로 처리할 경우
    * 구분자인 '#' 이 두 요소중 하나에서 쓰였다면 문제가 될 수 있다 (분리하거나 어디에서 온 문자열인지 구분하기 힘들다)
    * 각 요소를 개별로 접근하려면 문자열을 파싱해야 하므로 느리고 오류 가능성도 커진다
    * 적절한 equals, toString, compareTo 등을 제공할 수 없고 String 이 제공하는 기능에만 의존해야 한다
    * 따라서 전용 클래스를 만드는 편이 좋다

### 문자열은 권한을 표현하기에 적합하지 않다

```java
public class ThreadLocal {
    private ThreadLocal() {}
    
    public static void set(String key, Object value);
    
    public static Object get(String key);
}
```

* 위의 문제는 스레드 구분용 문자열 키가 전역 이름공간에서 공유된다는 점이다
* 이 방식이 의도대로 동작하기 위해서는 각 클라이언트가 고유한 키를 제공해야 한다
    * 하지만 두 클라이언트가 같은 키를 사용하게 될 경우 같은 변수를 공유하게 된다
    * 따라서 각 클라이언트는 의도한대로 동작하지 않게 되고, 보안적인 측면에서도 취약하다
    
```java
public class ThreadLocal {
    private ThreadLocal() {}
    
    public static class Key { // 권한
        Key() { }
    }
    
    public static Key getKey() {
        return new Key();
    }
}
```

* 위와 같이 키를 담당하는 별도의 클래스로 관리한다면, 여러가지 문제를 해결할 수 있다

## 정리

* 더 적합한 데이터 타입이 있거나 새로 작성할 수 있다면, 문자열을 사용하지 말고 적합한 데이터 타입을 사용해야 한다
* 문자열은 잘못 사용하면 번거롭고 덜 유연하며, 느리고 오류 가능성이 크다
* 문자열을 잘못 사용한 흔한 예로는 기본 타입, 열거 타입, 혼합 타입 등이 있다
